-- Download the National Statistics Postcode Lookup from
-- https://geoportal.statistics.gov.uk/search?collection=Dataset&sort=name&tags=PRD_NSPL

--Load csv into the table
copy os_address.nspl (pcd, pcd2, pcds, dointr, doterm, usertype, oseast1m, osnrth1m, osgrdind, oa11, cty, ced, laua, ward, hlthau, nhser, ctry, rgn, pcon, eer, teclec, ttwa, pct, nuts, park, lsoa11, msoa11, wz11, ccg, bua11, buasd11, ru11ind, oac11, lat, "long", lep1, lep2, pfa, imd, calncv, stp
	) from 'INSERT PATH TO CSV HERE' delimiter ',' quote '"' escape '"' csv;

--Create indexes
create index nspl_postcode_indx on os_address.NSPL (pcd);

create index nspl_OA11_indx on os_address.NSPL (OA11);

create index nspl_LSOA11_indx on os_address.NSPL (LSOA11);

create index nspl_MSOA11_indx on os_address.NSPL (MSOA11);

create index nspl_WZ11_indx on os_address.NSPL (WZ11);
